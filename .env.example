# ==============================================================================
# SSO Identity Provider - Environment Configuration
# ==============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env file to git!
# ==============================================================================

# ==============================================================================
# DATABASE
# ==============================================================================
# PostgreSQL connection string
# Format: postgres://user:password@host:port/database
DATABASE_URL=postgres://postgres:password@localhost:5432/sso_db

# ==============================================================================
# SSO ISSUER
# ==============================================================================
# The issuer URL for OIDC. This must be the public URL of your SSO server.
# All tokens will be signed with this issuer.
# MUST use HTTPS in production!
SSO_ISSUER=https://sso.placeholder.local

# For local development:
# SSO_ISSUER=http://localhost:3000

# ==============================================================================
# SESSION & SECURITY
# ==============================================================================
# Session encryption key - MUST be at least 32 characters
# Generate with: openssl rand -hex 32
SESSION_SECRET=change-me-to-a-secure-random-string-at-least-32-chars

# ==============================================================================
# SUPERADMIN BOOTSTRAP
# ==============================================================================
# Initial superadmin credentials
# IMPORTANT: Change the password immediately after first login!
# These are only used for initial database seeding
SUPERADMIN_EMAIL=admin@example.com
SUPERADMIN_PASSWORD=change-me-immediately

# ==============================================================================
# HRIS INTEGRATION
# ==============================================================================
# HRIS API endpoint for user synchronization
# Set to your Laravel HRIS API base URL
HRIS_API_BASE_URL=http://hris.local

# HRIS API authentication token
# This token should have read access to employee data
HRIS_API_TOKEN=your-hris-api-token

# ==============================================================================
# LOGGING
# ==============================================================================
# Log level: fatal, error, warn, info, debug, trace
LOG_LEVEL=info

# ==============================================================================
# NODE ENVIRONMENT
# ==============================================================================
# Set to 'production' for production deployment
# This affects:
# - Cookie secure flag (true in production)
# - Log formatting (JSON in production)
# - Error details exposed to clients
NODE_ENV=development

# ==============================================================================
# OPTIONAL: SERVER CONFIGURATION
# ==============================================================================
# Server host and port (defaults shown)
# HOST=0.0.0.0
# PORT=3000

# ==============================================================================
# OPTIONAL: ADVANCED OIDC CONFIGURATION
# ==============================================================================
# Token expiration times in seconds (defaults shown)
# ACCESS_TOKEN_TTL=3600
# REFRESH_TOKEN_TTL=1209600
# ID_TOKEN_TTL=3600
# AUTH_CODE_TTL=600
# SESSION_TTL=604800

# ==============================================================================
# OPTIONAL: RATE LIMITING
# ==============================================================================
# Login rate limit (requests per minute per IP)
# LOGIN_RATE_LIMIT=5
# Token endpoint rate limit
# TOKEN_RATE_LIMIT=30
